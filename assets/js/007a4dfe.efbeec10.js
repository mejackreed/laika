"use strict";(self.webpackChunk_zendesk_laika_docs=self.webpackChunk_zendesk_laika_docs||[]).push([[856],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return k}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=a.createContext({}),c=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(n),k=i,m=d["".concat(u,".").concat(k)]||d[k]||p[k]||o;return n?a.createElement(m,r(r({ref:t},s),{},{components:n})):a.createElement(m,r({ref:t},s))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2110:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return u},default:function(){return k},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return p}});var a=n(3117),i=n(102),o=(n(7294),n(3905)),r=["components"],l={id:"how-to-install",title:"How to install in your project",sidebar_label:"How to install in your project",custom_edit_url:null,hide_title:!0},u="How to install in your project",c={unversionedId:"how-to-install",id:"how-to-install",title:"How to install in your project",description:"Installing the package",source:"@site/docs/how-to-install.md",sourceDirName:".",slug:"/how-to-install",permalink:"/laika/docs/how-to-install",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"how-to-install",title:"How to install in your project",sidebar_label:"How to install in your project",custom_edit_url:null,hide_title:!0},sidebar:"default",previous:{title:"Readme",permalink:"/laika/docs/api/"},next:{title:"Laika",permalink:"/laika/docs/api/modules/Laika"}},s={},p=[{value:"Installing the package",id:"installing-the-package",level:2},{value:"Loading the Laika Link in your project",id:"loading-the-laika-link-in-your-project",level:2},{value:"Customizing loading of the Link",id:"customizing-loading-of-the-link",level:3},{value:"Loading the Link in unit tests",id:"loading-the-link-in-unit-tests",level:2},{value:"What can I import from the module?",id:"what-can-i-import-from-the-module",level:2},{value:"What next?",id:"what-next",level:2}],d={toc:p};function k(e){var t=e.components,n=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-install-in-your-project"},"How to install in your project"),(0,o.kt)("h2",{id:"installing-the-package"},"Installing the package"),(0,o.kt)("p",null,"First you'll need to use your package manager to add Laika to your project."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ npm install --save @zendesk/laika\n# or if using yarn:\n$ yarn add @zendesk/laika\n")),(0,o.kt)("p",null,"Note that if you do not intend to use Laika for testing production code, you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"--save-dev")," flag (or ",(0,o.kt)("inlineCode",{parentName:"p"},"--dev")," in case of ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn"),") to install it as a development dependency."),(0,o.kt)("h2",{id:"loading-the-laika-link-in-your-project"},"Loading the Laika Link in your project"),(0,o.kt)("p",null,"For tests that run on your production code, you'll likely want to load the link conditionally, so that it is not downloaded by your users, but only in certain scenarios, e.g. inside of your browser test runner."),(0,o.kt)("p",null,"Include the link wherever you like in your chain of links, however we recommend putting it right before the connection with the backend occurs for most accurate results."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createLazyLoadableLaikaLink } from '@zendesk/laika'\n\nconst apolloClient = new ApolloClient({\n  link: ApolloLink.from([\n    new YourCustomLink(),\n    ...(process.env.NODE_ENV === 'development'\n      ? [\n          createLazyLoadableLaikaLink({\n            clientName: 'your-client-name',\n            startLoggingImmediately: true,\n          }),\n        ]\n      : []),\n    new HttpLink(/* ... */),\n  ]),\n  // ...\n})\n")),(0,o.kt)("h3",{id:"customizing-loading-of-the-link"},"Customizing loading of the Link"),(0,o.kt)("p",null,"By default, link is lazily loaded and if you use webpack, split into a seaprate chunk by utilizing the ",(0,o.kt)("inlineCode",{parentName:"p"},"createLazyLoadableLink")," function provided in the package."),(0,o.kt)("p",null,"You may customize this behavior. This is the default behavior:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { createLazyLoadableLink } from '@zendesk/laika'\n\n/**\n * @param {{clientName: string}} options\n */\nexport const createLazyLoadableLaikaLink = (options) =>\n  createLazyLoadableLink(\n    import(\n      '@zendesk/laika' /* webpackChunkName: 'apolloLaikaLink' */\n    ).then(({ createInterceptingLink }) => createInterceptingLink(options)),\n  )\n")),(0,o.kt)("p",null,"If you're using webpack, the ",(0,o.kt)("inlineCode",{parentName:"p"},"webpackChunkName")," magic comment will ensure a separate chunk is file created for the link."),(0,o.kt)("h2",{id:"loading-the-link-in-unit-tests"},"Loading the Link in unit tests"),(0,o.kt)("p",null,"If you have full control over the Apollo client inside of your tests, you may directly create the Link from an instance of Laika:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'import { Laika } from "@zendesk/laika/esm/laika"\n\nconst laika = new Laika()\n\nconst link = from([\n  laika.createLink(),\n  new HttpLink({ uri: "..." })\n])\n\nit(\'works\', () => {\n  // setup your test, for example:\n  const interceptor = laika.intercept()\n  interceptor.mockResultOnce({\n    result: {\n      data: {/* ... */},\n    }\n  })\n  // run some assertions\n  // ...\n})\n')),(0,o.kt)("p",null,"Note that Laika itself isn't directly exported from ",(0,o.kt)("inlineCode",{parentName:"p"},"@zendesk/laika")," in order to minimize the amount of data that is bundled with your application when using lazily loaded Laika in production."),(0,o.kt)("h2",{id:"what-can-i-import-from-the-module"},"What can I import from the module?"),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"/laika/docs/api/modules"},"API reference"),"."),(0,o.kt)("h2",{id:"what-next"},"What next?"),(0,o.kt)("p",null,"Read about how to use the library in ",(0,o.kt)("a",{parentName:"p",href:"/laika/docs/api/modules/Laika"},"Laika"),"."))}k.isMDXComponent=!0}}]);